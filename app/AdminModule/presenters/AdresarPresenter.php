<?phpnamespace App\AdminModule\Presenters;use DbTable;/** * Prezenter pre administraciu adresara webu. *  * Posledna zmena(last change): 17.12.2015 * @actions default, add, edit[$id] *  *	Modul: ADMIN * * @author Ing. Peter VOJTECH ml. <petak23@gmail.com> * @copyright  Copyright (c) 2012 - 2015 Ing. Peter VOJTECH ml. * @license * @link       http://petak23.echo-msz.eu * @version 1.0.1 */class AdresarPresenter extends \App\AdminModule\Presenters\BasePresenter {  /**    * @inject   * @var DbTable\Adresar */  public $adresar;  /** @var Forms\Adresar\EditAdresarFormFactory @inject*/	public $editAdresarForm;    /** @var string $h2_part_2 Druha cast nadpisu */  private $h2_part_2 = 'Editácia adresy';  /** Spolocny render pre akcie Add a Edit */  public function renderDefault() {    $this->template->adresy = $this->adresar->findAll();  }    /** Akcia pre pridanie adresy */  public function actionAdd() {    $this->h2_part_2 = 'Pridanie adresy';    $this->setView('edit');    	}    /** Akcia pre editaciu udaju    * @param int $id Id adresy  */	public function actionEdit($id) {    if (($adresa = $this->adresar->find($id)) === FALSE) {			$this->setView('notFound');		} else {       $this["editAdresaForm"]->setDefaults($adresa);    }	}    /** Spolocny render pre akcie Add a Edit */  public function renderEdit() {    $this->template->h2_part_2 = $this->h2_part_2;  }    /** Edit udaje form component factory.	 * @return Nette\Application\UI\Form	 */	protected function createComponentEditAdresaForm()	{		$form = $this->editAdresarForm->create();      $form['uloz']->onClick[] = function ($form) {      $this->flashOut(!count($form->errors), 'Adresar:', 'Adresa bola uložená!', 'Došlo k chybe a adresa sa neuložila. Skúste neskôr znovu...');		};    $form['cancel']->onClick[] = function () {			$this->redirect('Adresar:');		};		return $this->_vzhladForm($form);	}    /** Funkcia pre spracovanie signálu vymazavania	  * @param int $id - id polozky v hlavnom menu		* @param string $nazov - nazov polozky z hl. menu - na zrusenie?		*/	function confirmedDelete($id, $nazov)	{    if ($this->adresar->zmaz($id) == 1) { $this->flashMessage('Adresa bola úspešne vymazaná!', 'success'); }     else { $this->flashMessage('Došlo k chybe a adresa nebola vymazaná!', 'danger'); }    if (!$this->isAjax()) { $this->redirect('Adresar:'); }  }  }